
# 0. 问题
一般 PDF 阅读器都可以自定义背景颜色，但找不到可以自定义背景图片的 PDF 阅读器。 

前面使用 [chrome + 印象笔记*悦读 + 自定义背景]()，感觉看网页舒服多了。如果 PDF 也能这么看，该多好。 

# 1. 方法
前面说过，直接在 PDF 阅读器中自定义背景图片是不可能的了。

受
[保护眼睛：给 PDF 设置图片背景](http://www.cnblogs.com/ldp615/archive/2011/08/04/set-image-as-pdf-background.html)这篇博客的启发，认为编程修改 PDF 文件的背景图片是可行的。 在  Stackoverflow 上的找到相关的问题：[iText : How do I insert background image in the same document to be flushed to response](http://stackoverflow.com/questions/12677207/itext-how-do-i-insert-background-image-in-the-same-document-to-be-flushed-to-r)

# 2. 尝试
下载 [iText 库](http://sourceforge.net/projects/itext/files/iText/)

代码如下：

	public class Pdf {
	
		public static final String FILE_DIR = "c:\\";
	
		public static void main(String[] args) throws Exception {
	
			changePdfBg(FILE_DIR + "effective java 2nd.pdf", FILE_DIR
					+ "effective java 2nd-copy.pdf", FILE_DIR + "bg-image.jpg");
		}
	
		public static void changePdfBg(String inPdf, String outPdf, String watermark)
				throws Exception {
			PdfReader reader = new PdfReader(inPdf);
			int n = reader.getNumberOfPages();
	
			// System.out.println("total pages " + n);
			
			// Create a stamper that will copy the document to a new file
			PdfStamper stamp = new PdfStamper(reader, new FileOutputStream(outPdf));
			int i = 0;
			PdfContentByte under;
	
			Image img = Image.getInstance(watermark);
			img.setAbsolutePosition(0, 0);
	
			float width = PageSize.A4.getWidth();
			float height = PageSize.A4.getHeight();
	
			while (i < n) {
				i++;
				// System.out.println("process page " + i);
				
				// Watermark under the existing page
				under = stamp.getUnderContent(i);
				under.addImage(img, width, 0, 0, height, 0, 0);
			}
	
			stamp.close();
			reader.close();
		}

添加背景图片后的效果

![scrrenshot]({{ site.url }}/assets/20131230/example.png)

完整的代码见[这里]({{ site.url }}/assets/20131230/src.rar)
提供几个不错的[背景图片]({{ site.url }}/assets/20131230/bg.rar)

[Java操作PDF之iText超入门]: http://rensanning.iteye.com/blog/1538689