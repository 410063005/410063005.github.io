---
layout: post
title: 发送网址链接到邮箱
keywords: 经验,Python
description: 学习经验
categories: [学习经验]
tags: [经验]
group: archive
icon: globe
---

经常在网上看到一些不错的技术文章。以前都是将它们添加到浏览器的收藏夹，时间一长，收藏夹会变得非常乱。就写了个脚本`mail.py`将文章标题和链接发送到自己的邮箱，利用邮箱来收集和整理这些技术文章。

用法如下：

	usage: python mail.py <title> <url列表>

代码如下：

	# -*- coding:utf-8 -*-
	
	import sys 
	import smtplib
	from email.mime.text import MIMEText
	from email.header import Header
	
	
	sender = '***@sender.com'
	receiver = '***@receiver.com'
	subject = 'python email test'
	smtpserver = 'smtp.163.com'
	username = '***@sender.com'
	password = '***'
	
	if len(sys.argv) < 3:
		print '''
		usage: python mail.py <title> <url>
		'''
		exit(1)
	else:
		subject = '分享：'.decode('UTF-8').encode('GBK') + sys.argv[1]
		print subject
		content = sys.argv[1]
		for item in sys.argv[2:]:
			content += '\n'
			content += item
	
	msg = MIMEText(content,'plain','gbk')#
	msg['Subject'] = Header(subject, 'gbk')
	
	smtp = smtplib.SMTP()
	smtp.connect('smtp.163.com')
	smtp.login(username, password)
	smtp.sendmail(sender, receiver, msg.as_string())
	smtp.quit()
	print 'sent! ok!'