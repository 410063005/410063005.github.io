---
layout: post
title: svn回滚代码
keywords: svn
description: svn
categories: [工具,备忘]
tags: [工具]
group: archive
icon: globe
---
# 回滚未提交的代码
针对没有提交的代码回滚很简单，直接 revert 就行了：

	svn revert <filepath>

filepath 既可以是相对路径也可以是绝对路径。 当 filepath 为目录时，需要加上 -R (Recursize, 递归)，否则将只会撤销针对这个目录的改动。

# 回滚已提交的代码
如果代码已提交，但发现提交的代码有错误，要更正。则需要使用 svn merge 来进行回滚。操作过程如下：

1. 更新到最新版本: `svn update`
2. 找到目版本号: `svn log <log>`。假设根据 log，找到的目标版本是 100, 当前的版本号是 150
3. 回滚: `svn merge -r 150:100 <filepath>`
4. 检查和确认回滚结果: `svn diff <filepath>`
5. 检查无误后提交回滚: `svn commit -m "Revert revision from r150 to r100"`
