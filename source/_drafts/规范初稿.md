---
title: 规范初稿
tags:
---

+ Coverity警告清零
 + 尽可能使用static类, private访问权限, final成员变量
 + 少量特例
+ Lint警告清零
 + 优先解决bug或性能相关
 + 少量特例: 文案硬编码, ImageView的contentDescription
+ 新代码通过Checkstyle检查
 + 基本规范
  + Java命名
  + 资源命名
 + 少量特例: com.tencent.PmdCampus包名
+ 上线前检查
 + 冗余资源
 + 内存泄漏
 + RDM日志
 + 各类警告
 
# 建议的Java命名和代码结构

http://tapd.oa.com/IGAME/markdown_wikis/#1010011761005093495

http://tapd.oa.com/IGAME/markdown_wikis/#1010011761005092335

+ 成员变量以m开头
+ 静态变量以s开头
+ 常量以static final修饰，名字大写
+ public final的成员变量不以m开头
+ com.tencent.PmdCampus.model包下的成员变量不以m开头，必须保持跟后台命名一致

+ 普通Activity继承BaseActivity
+ 普通Fragment继承BaseFragment
+ 支持空页面/错误页面的Activity继承LoadingActivity
+ 支持空页面/错误页面的Fragment继承LoadingFragment
+ 支持lazy load机制的Fragment继承BaseLazyLoadFragment
+ 用于RecyclerView的Adapter继承com.tencent.PmdCampus.adapter.BaseAdapter
+ 一个按钮的Dialog使用TipsDialogFragment
+ 两个按钮的Dialog使用MessageConfirmDialogFragment
+ 底部Dialog继承自BottomDialog

```java
public class AboutActivity extends BaseActivity {

    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_about);
    
        setupViews();
        bindListeners();
        setupBus();
        loadData();
    }
    
    protected void onDestroy() {    
        super.onDestroy();
        teardownBus();
    }
    
    private static class MyAdapter extends RecyclerView.Adapter<Item> {
    
    }
    
    private static class MyViewHolder extends {
    
        public final TextView tvTitle;
        public final TextView tvDesc;
    }
}
```
